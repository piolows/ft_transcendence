# Production override for docker-compose.yml
# Usage: docker-compose -f docker-compose.yml -f docker-compose.prod.yml up --build

services:
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile.prod
    ports:
      - "8443:443"
    volumes:
      # Mount certificates volume for SSL
      - certificates:/etc/nginx/certs:ro
    # No need to mount front_end volume in production as files are baked into image
    networks:
      - transcendence
      - micro-services
    environment:
      - NODE_ENV=production